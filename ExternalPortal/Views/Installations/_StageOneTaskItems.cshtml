@model ExternalPortal.ViewModels.InstallationModel

<li>
    <h2 class="app-task-list__section">
        <span class="app-task-list__section-number">1. </span> Tell us your plans for producing biomethane
    </h2>
    <ul class="app-task-list__items">
        <li class="app-task-list__item">
            <a class="task-name" href="@UrlKeys.PlantDetailsWhatYouWillNeedLink" aria-describedby="read-declaration-completed">
                @Model.StageOne.PlantDetails.Type.GetDisplayName()
            </a>
            <strong class="govuk-tag app-task-list__tag @Model.StageOne.PlantDetails.State.GetDisplayTag()" id="plantdetails-status">
                @Model.StageOne.PlantDetails.State.GetDisplayName()
            </strong>
        </li>

        <li class="app-task-list__item">
            <a class="task-name" href="@UrlKeys.PlanningPermissionWhatYouWillNeed" aria-describedby="read-declaration-completed">
                @Model.StageOne.PlanningDetails.Type.GetDisplayName()
            </a>
            <strong class="govuk-tag app-task-list__tag @Model.StageOne.PlanningDetails.State.GetDisplayTag()" id="planningdetails-status">
                @Model.StageOne.PlanningDetails.State.GetDisplayName()
            </strong>
        </li>

        <li class="app-task-list__item">
            <a class="task-name" href="@UrlKeys.ProductionDetailsWhatYouWillNeedLink" aria-describedby="read-declaration-completed">
                @Model.StageOne.ProductionDetails.Type.GetDisplayName()
            </a>
            <strong class="govuk-tag app-task-list__tag @Model.StageOne.ProductionDetails.State.GetDisplayTag()" id="productiondetails-status">
                @Model.StageOne.ProductionDetails.State.GetDisplayName()
            </strong>
        </li>


        <br />

        @if (Model.Application.Value.Status == ApplicationStatus.StageOneSubmitted)
        {
        }
        else if (Model.StageOne.PlantDetails.State == TaskStatus.Completed
        && Model.StageOne.PlanningDetails.State == TaskStatus.Completed
        && Model.StageOne.ProductionDetails.State == TaskStatus.Completed)
        {
    <p class="govuk-body">By clicking 'accept and submit', you're confirming that, to the best of your knowledge, the details you're providing are correct.</p>
            <form class="" action="@UrlKeys.Stage1confirmationLink" method="post">
                <input type="hidden" name="stage-one-completed" value="true">
                <button class="govuk-button" data-module="govuk-button">
                    Accept and submit
                </button>
            </form>
        }
        else
        {
            <p class="govuk-body">You cannot submit until you have completed all the tasks in this section</p>
            <button disabled="disabled" aria-disabled="true" class="govuk-button govuk-button--disabled" data-module="govuk-button">
                Accept and submit
            </button>
        }
    </ul>
</li>
